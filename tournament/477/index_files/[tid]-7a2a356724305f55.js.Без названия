(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[152],{44686:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tournament/[tid]",function(){return e(90547)}])},90547:function(t,n,e){"use strict";e.r(n),e.d(n,{__N_SSP:function(){return y}});var i=e(34051),o=e.n(i),a=e(85893),r=e(67294),s=e(11163),_=e(96486),l=e.n(_),m=e(46959),c=e(24119),u=e(34404),d=e(22132),p=e(66835),f=e.n(p),h=e(315),g=e(36892);function x(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function j(t,n,e,i,o,a,r){try{var s=t[a](r),_=s.value}catch(l){return void e(l)}s.done?n(_):Promise.resolve(_).then(i,o)}function v(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,o,a=[],r=!0,s=!1;try{for(e=e.call(t);!(r=(i=e.next()).done)&&(a.push(i.value),!n||a.length!==n);r=!0);}catch(_){s=!0,o=_}finally{try{r||null==e.return||e.return()}finally{if(s)throw o}}return a}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return x(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return x(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=!0;n.default=function(){var t=(0,s.useRouter)(),n=(0,c.kP)(),e=(0,c.iP)(),i=(0,c.y5)(),_=i.getValue,p=i.getValueNum,x=(0,c.yi)(["tournamentId"],[t.query.tid]).request,y=v((0,c.bA)("tab",_("tab")),2),N=y[0],b=y[1],w=(0,r.useState)(null!==_("registerStatus.accepted")?+_("registerStatus.accepted"):null),k=w[0],S=w[1],T=!!+_("tournament.is_hidden_result",!1),P=!!+_("tournament.is_fsm_rating",!1),z=function(){var t,n=(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x("tournament/registerUser",{forceRedirect:!0,success:function(){return S(0)}});case 1:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(i,o){var a=t.apply(n,e);function r(t){j(a,i,o,r,s,"next",t)}function s(t){j(a,i,o,r,s,"throw",t)}r(void 0)}))});return function(){return n.apply(this,arguments)}}(),I=function(t){return function(){b(t)}};return(0,a.jsxs)(d._z,{className:f().tournament,children:[(0,a.jsx)(d.xW,{size:"full",children:(0,a.jsxs)("div",{className:f().tournament__top,children:[(0,a.jsxs)("div",{className:f()["tournament__top-left"],children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:f()["tournament__top-left-badges"],children:[_("tournament.elo_average")>0&&(0,a.jsx)("div",{className:"".concat(f()["tournament__top-left-elo"]," ").concat(f()["tournament__top-left-elo_".concat((0,g.U)(_("tournament.elo_average")))]),children:(0,h.t)(_("tournament.elo_average"),20)}),(0,a.jsxs)("div",{className:f()["tournament__top-left-star"],children:[(0,a.jsx)(d.JO,{name:"star-small",size:e.width>m.z?24:16,mode:"warning"}),_("tournament.star")]})]}),(0,a.jsx)("div",{className:f()["tournament__top-left-title"],children:(0,u.sq)(_("tournament.title"))})]}),(0,a.jsxs)("div",{className:f()["tournament__top-left-items"],children:[(0,a.jsxs)("div",{className:f()["tournament__top-left-item"],children:[(0,a.jsx)("div",{className:f()["tournament__top-left-item-title"],children:"\u0414\u0430\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0442\u0443\u0440\u043d\u0438\u0440\u0430"}),(0,a.jsx)("div",{className:f()["tournament__top-left-item-description"],children:"".concat((0,u.u4)(_("tournament.date_start"))," \u2013 ").concat((0,u.u4)(_("tournament.date_end")))})]}),(0,a.jsxs)("div",{className:f()["tournament__top-left-item"],children:[(0,a.jsx)("div",{className:f()["tournament__top-left-item-title"],children:"\u041c\u0435\u0441\u0442\u043e"}),(0,a.jsx)("div",{className:f()["tournament__top-left-item-description"],children:"".concat(_("tournament.country_translate"),", ").concat(_("tournament.city_translate"))})]}),(0,a.jsxs)("div",{className:f()["tournament__top-left-item"],children:[(0,a.jsx)("div",{className:f()["tournament__top-left-item-title"],children:"\u0422\u0438\u043f \u0442\u0443\u0440\u043d\u0438\u0440\u0430"}),(0,a.jsx)("div",{className:f()["tournament__top-left-item-description"],children:_("tournament.type_translate")})]}),(0,a.jsxs)("div",{className:f()["tournament__top-left-item"],children:[(0,a.jsx)("div",{className:f()["tournament__top-left-item-title"],children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"}),(0,a.jsx)("div",{className:f()["tournament__top-left-item-description"],children:"".concat(_("usersCount")," \u0438\u0437 ").concat(_("tournament.projected_count_of_participant"))})]})]}),(_("tournament.vk_group_link")||_("tournament.chat_link")||_("tournament.registration_discussion_link"))&&(0,a.jsxs)("div",{className:"".concat(f()["tournament__top-left-buttons"]," ").concat(f()["tournament__top-left-buttons_amount-".concat(function(){var t=0;return _("tournament.vk_group_link")&&t++,_("tournament.chat_link")&&t++,_("tournament.registration_discussion_link")&&t++,t}())]),children:[_("tournament.vk_group_link")&&(0,a.jsx)(d.zx,{target:"_blank",mode:"secondary",size:"md",link:_("tournament.vk_group_link"),icon:"vk-no-square",iconSize:20,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e VK"}),_("tournament.chat_link")&&(0,a.jsx)(d.zx,{target:"_blank",mode:"secondary",size:"md",link:_("tournament.chat_link"),icon:"chat",iconSize:20,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0447\u0430\u0442\u0443"}),_("tournament.registration_discussion_link")&&(0,a.jsx)(d.zx,{target:"_blank",mode:"secondary",size:"md",link:_("tournament.registration_discussion_link"),icon:"discussion",iconSize:20,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044e"})]})]}),(0,a.jsx)("div",{className:f()["tournament__top-right"],children:(0,a.jsxs)("div",{className:f()["tournament__top-right-container"],children:[(0,a.jsx)("a",{href:"/stats/".concat(_("referee.id")),children:(0,a.jsx)(d.$i,{avatar:_("referee")?_("referee.avatar_link"):null,name:_("referee")?"".concat(_("referee.first_name")," ").concat(_("referee.last_name")):"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",icon:(0,a.jsx)(d.gT,{size:24,isPaid:!!+_("referee.is_paid"),iconType:_("referee.icon_type"),iconName:_("referee.icon"),className:"mt-025 ml-05"}),info:"\u0413\u0421 \u0442\u0443\u0440\u043d\u0438\u0440\u0430",minWidth:e.width>1e3?400:null})}),(0,a.jsx)("a",{href:"/stats/".concat(_("creator.id")),children:(0,a.jsx)(d.$i,{avatar:_("creator")?_("creator.avatar_link"):null,name:_("creator")?"".concat(_("creator.first_name")," ").concat(_("creator.last_name")):"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",icon:(0,a.jsx)(d.gT,{size:24,isPaid:!!+_("creator.is_paid"),iconType:_("creator.icon_type"),iconName:_("creator.icon"),className:"mt-025 ml-05"}),info:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440",minWidth:e.width>1e3?400:null})}),n&&"registration open"===_("tournament.status")&&(0,a.jsxs)("div",{className:f()["tournament__top-right-registration"],children:[(0,a.jsxs)("div",{className:f()["tournament__top-right-registration-top"],children:[(0,a.jsx)("div",{className:f()["tournament__top-right-registration-top-title"],children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u0438\u044f"}),(0,a.jsx)("div",{className:f()["tournament__top-right-registration-top-price"],children:"".concat((0,u.__)(_("tournament.contribution_amount"))," ").concat(_("tournament.contribution_currency_translate"))})]}),0===k&&(0,a.jsx)(d.bZ,{mode:"warning",size:"large",children:"\u0412\u044b \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u044b"}),1===k&&(0,a.jsx)(d.bZ,{mode:"success",size:"large",children:"\u0412\u044b \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442\u0435"}),null===k&&(0,a.jsx)(d.zx,{onClick:z,stretched:!0,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})]})}),(_("tournamentResult")||_("teamsResult")||_("games")||_("nominations"))&&(0,a.jsxs)(d.xW,{size:"full",children:[(0,a.jsx)(d.xv,{mode:3,marginBottom:e.width>m.z?20:12,marginTop:e.width>m.z?30:12,block:!0,center:!0,children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0442\u0443\u0440\u043d\u0438\u0440\u0430"}),(0,a.jsx)("div",{className:f().tournament__tabs,children:(0,a.jsx)(d.mQ,{children:(0,a.jsxs)(d.gB,{center:!0,isLikeButtons:!0,isDifferentWidth:!0,children:[_("tournamentResult")&&(_("teamsResult")?(0,a.jsx)(d.n5,{onSelect:I("tournament"),isSelectControl:!0,isSelected:"tournament"===N,children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u0437\u0430\u0447\u0451\u0442"}):(0,a.jsx)(d.n5,{onSelect:I("tournament"),isSelectControl:!0,isSelected:"tournament"===N,children:"\u0422\u0443\u0440\u043d\u0438\u0440\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b"})),_("teamsResult")&&(0,a.jsx)(d.n5,{onSelect:I("team"),isSelectControl:!0,isSelected:"team"===N,children:"\u041a\u043e\u043c\u0430\u043d\u0434\u043d\u044b\u0439 \u0437\u0430\u0447\u0451\u0442"}),_("games")&&(0,a.jsx)(d.n5,{onSelect:I("games"),isSelectControl:!0,isSelected:"games"===N,children:"\u0418\u0442\u043e\u0433\u0438 \u043f\u043e \u0438\u0433\u0440\u0430\u043c"}),_("nominations")&&(0,a.jsx)(d.n5,{onSelect:I("nominations"),isSelectControl:!0,isSelected:"nominations"===N,children:"\u041d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u0438"})]})})}),"tournament"===N&&_("tournamentResult")&&(0,a.jsx)("div",{className:f().tournament__table,children:(0,a.jsx)("div",{className:f()["tournament__table-result"],children:(0,a.jsx)(d.Ot,{children:_("tournamentResult")&&(T?l().shuffle(_("tournamentResult")):_("tournamentResult")).map((function(t,n){return(0,a.jsx)(d.Mi,{place:T?n+1:+t.place,login:t.login,icon:(0,a.jsx)(d.gT,{isPaid:!!+t.is_paid,iconType:t.icon_type,iconName:t.icon,className:"mt-025 ml-05"}),isPaid:!!+t.paid_account,sum:T?0:+t.sum,sumExtra:T?0:+t.sum_extra,plus:T?0:+t.extra_point,minus:T?0:+t.fine,lx:T?0:+t.first_kill_point,ci:T?0:+t.compensation_point,p:T?0:+t.win,d:T?0:+t.win_as_don,w:T?0:+t.win_as_sheriff,y:T?0:+t.first_kill,gg:T?0:+t.global_game},t.login)}))})})}),"team"===N&&_("teamsResult")&&(0,a.jsx)("div",{className:f().tournament__table,children:(0,a.jsx)("div",{className:f()["tournament__table-result"],children:(0,a.jsx)(d.Tn,{children:_("teamsResult")&&(T?l().shuffle(_("teamsResult")):_("teamsResult")).map((function(t,n){return(0,a.jsx)(d.St,{place:n+1,title:t.title,users:t.users,sum:T?0:+t.sum,sumExtra:T?0:+t.sum_extra,plus:T?0:+t.extra_point,minus:T?0:+t.fine,lx:T?0:+t.first_kill_point,ci:T?0:+t.compensation_point,p:T?0:+t.win,d:T?0:+t.win_as_don,w:T?0:+t.win_as_sheriff,y:T?0:+t.first_kill,gg:T?0:+t.global_game},t.title)}))})})}),"games"===N&&_("games")&&(0,a.jsx)("div",{className:f().tournament__games,children:_("games").map((function(t){return(0,a.jsxs)("div",{className:f()["tournament__games-tour"],children:[(0,a.jsxs)("div",{className:f()["tournament__games-tour-title"],children:["\u0422\u0443\u0440 ",t.gameNum]}),(0,a.jsx)("div",{className:f()["tournament__games-tour-games"],children:t.game.map((function(n){return(0,a.jsx)("div",{className:f()["tournament__games-tour-game"],children:(0,a.jsx)(d.xJ,{tableNum:n.tableNum,referee:n.referee,icon:(0,a.jsx)(d.gT,{isPaid:!!+n.referee_is_paid,iconType:n.referee_icon_type,iconName:n.referee_icon,className:"mt-025 ml-05"}),winner:T?"":n.win,isShowElo:P,children:n.table.map((function(t){return(0,a.jsx)(d.wZ,{place:t.place,login:t.login,icon:(0,a.jsx)(d.gT,{isPaid:!!+t.isPaid,iconType:t.iconType,iconName:t.icon,className:"mt-025 ml-05"}),role:t.role,points:t.points,type:t.type,eloDelta:+t.eloDelta,isEmpty:""===n.win||T,isShowElo:P,isPaid:!!+t.isPaid},t.login)}))},n.tableNum)},t.gameNum)}))},t.gameNum)]},t.gameNum)}))}),"nominations"===N&&_("nominations")&&(0,a.jsx)("div",{className:f().tournament__nominations,children:(0,a.jsx)("div",{className:f()["tournament__nominations-container"],children:(0,a.jsxs)(d.sq,{isLikeEmpty:T,children:[(0,a.jsx)(d.wt,{nomination:"\u041b\u0443\u0447\u0448\u0438\u0439 \u043a\u0440\u0430\u0441\u043d\u044b\u0439",player:T?"\u2013":_("nominations.best_red"),playerId:T?null:p("nominations.best_red_id"),icon:(0,a.jsx)(d.gT,{isIconOnly:!0,isPaid:!!+_("nominations.best_red_is_paid"),iconType:_("nominations.best_red_icon_type"),iconName:_("nominations.best_red_icon"),className:"mt-025 ml-05"})}),(0,a.jsx)(d.wt,{nomination:"\u041b\u0443\u0447\u0448\u0438\u0439 \u0447\u0435\u0440\u043d\u044b\u0439",player:T?"\u2013":_("nominations.best_mafia"),playerId:T?null:p("nominations.best_mafia_id"),icon:(0,a.jsx)(d.gT,{isIconOnly:!0,isPaid:!!+_("nominations.best_mafia_is_paid"),iconType:_("nominations.best_mafia_icon_type"),iconName:_("nominations.best_mafia_icon"),className:"mt-025 ml-05"})}),(0,a.jsx)(d.wt,{nomination:"\u041b\u0443\u0447\u0448\u0438\u0439 \u0434\u043e\u043d",player:T?"\u2013":_("nominations.best_don"),playerId:T?null:p("nominations.best_don_id"),icon:(0,a.jsx)(d.gT,{isIconOnly:!0,isPaid:!!+_("nominations.best_don_is_paid"),iconType:_("nominations.best_don_icon_type"),iconName:_("nominations.best_don_icon"),className:"mt-025 ml-05"})}),(0,a.jsx)(d.wt,{nomination:"\u041b\u0443\u0447\u0448\u0438\u0439 \u0448\u0435\u0440\u0438\u0444",player:T?"\u2013":_("nominations.best_sheriff"),playerId:T?null:p("nominations.best_sheriff_id"),icon:(0,a.jsx)(d.gT,{isIconOnly:!0,isPaid:!!+_("nominations.best_sheriff_is_paid"),iconType:_("nominations.best_sheriff_icon_type"),iconName:_("nominations.best_sheriff_icon"),className:"mt-025 ml-05"})}),(0,a.jsx)(d.wt,{nomination:"MVP \u0442\u0443\u0440\u043d\u0438\u0440\u0430",player:T?"\u2013":_("nominations.mvp"),playerId:T?null:p("nominations.mvp_id"),icon:(0,a.jsx)(d.gT,{isIconOnly:!0,isPaid:!!+_("nominations.mvp_is_paid"),iconType:_("nominations.mvp_icon_type"),iconName:_("nominations.mvp_icon"),className:"mt-025 ml-05"})})]})})})]}),(n||_("comments"))&&(0,a.jsx)(d.xW,{size:"full",children:(0,a.jsx)(d.HW,{defaultComments:_("comments"),position:"tournament",positionId:+t.query.tid})})]})}},66835:function(t){t.exports={tournament__top:"_tid__tournament__top__I0rPt","tournament__top-left":"_tid__tournament__top-left__1e_nb","tournament__top-left-badges":"_tid__tournament__top-left-badges__NuylS","tournament__top-left-elo":"_tid__tournament__top-left-elo__uVYxU","tournament__top-left-elo_secondary":"_tid__tournament__top-left-elo_secondary__XeNLl","tournament__top-left-elo_success":"_tid__tournament__top-left-elo_success__UADLj","tournament__top-left-elo_warning":"_tid__tournament__top-left-elo_warning__Ku8z_","tournament__top-left-elo_danger":"_tid__tournament__top-left-elo_danger__a_Vq_","tournament__top-left-elo_primary":"_tid__tournament__top-left-elo_primary__x7AVc","tournament__top-left-star":"_tid__tournament__top-left-star__jNOCs","tournament__top-left-title":"_tid__tournament__top-left-title__kWFFR","tournament__top-left-items":"_tid__tournament__top-left-items__DC0nX","tournament__top-left-item":"_tid__tournament__top-left-item__srDIn","tournament__top-left-item-title":"_tid__tournament__top-left-item-title__gThke","tournament__top-left-item-description":"_tid__tournament__top-left-item-description__nFBnP","tournament__top-left-buttons":"_tid__tournament__top-left-buttons__e1L31","tournament__top-left-buttons_amount-1":"_tid__tournament__top-left-buttons_amount-1__1yiFb","tournament__top-right":"_tid__tournament__top-right__U4SB9","tournament__top-right-container":"_tid__tournament__top-right-container__MQ4g2","tournament__top-right-registration":"_tid__tournament__top-right-registration__QIHha","tournament__top-right-registration-top-title":"_tid__tournament__top-right-registration-top-title__IOtUV","tournament__top-right-registration-top-price":"_tid__tournament__top-right-registration-top-price__GP0dA",tournament__tabs:"_tid__tournament__tabs__8Zdav",tournament__table:"_tid__tournament__table___gMHd","tournament__table-result":"_tid__tournament__table-result__Lmflj",tournament__nominations:"_tid__tournament__nominations__7xEWp","tournament__nominations-container":"_tid__tournament__nominations-container__w_hwp",tournament__games:"_tid__tournament__games__gfHur","tournament__games-tour":"_tid__tournament__games-tour___Xfzi","tournament__games-tour-title":"_tid__tournament__games-tour-title__lC8ot","tournament__games-tour-games":"_tid__tournament__games-tour-games__BCNmS"}}},function(t){t.O(0,[774,888,179],(function(){return n=44686,t(t.s=n);var n}));var n=t.O();_N_E=n}]);