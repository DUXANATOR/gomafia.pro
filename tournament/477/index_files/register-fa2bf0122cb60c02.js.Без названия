(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{69805:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return n(24650)}])},24650:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSP:function(){return p}});var t=n(34051),a=n.n(t),i=n(85893),o=n(67294),s=n(46959),l=n(24119),c=n(22132),u=n(6054),h=n.n(u);function d(e,r,n,t,a,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?r(l):Promise.resolve(l).then(t,a)}var p=!0;r.default=function(){var e=(0,l.y5)().getValue,r=(0,l.iP)(),n=(0,l.yi)(["hash"],[e("hash")]).request,t=(0,l.yi)(["login","password","repeat","phone","email","city","country","region"]),u=t.fields,p=t.errors,_=t.isRequest,f=t.setField,g=t.setError,m=t.request,v=t.renderCountryCity,x=t.renderMainError,y=(0,o.useState)("initial"),b=y[0],k=y[1],j=(0,o.useState)(),w=j[0],I=j[1];(0,o.useEffect)((function(){g("phone",null),g("email",null)}),[u.country]),(0,o.useEffect)((function(){return"checking"===b?(clearInterval(w),I(setInterval((function(){n("info/checkVkLinkRegisterHash",{success:function(){k("done")}})}),3e3))):clearInterval(w),function(){clearInterval(w)}}),[b]);var N=function(){var r,n=(r=a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:m("user/register",{redirectSuccess:"/profile",forceRedirect:!0,fields:{hash:e("hash")}});case 1:case"end":return r.stop()}}),r)})),function(){var e=this,n=arguments;return new Promise((function(t,a){var i=r.apply(e,n);function o(e){d(i,t,a,o,s,"next",e)}function s(e){d(i,t,a,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,i.jsxs)(c._z,{children:[(0,i.jsx)(c.xW,{size:"small",isLargePadding:!0,className:h().auth,children:(0,i.jsxs)("div",{className:h().auth__head,children:[(0,i.jsx)(c.xv,{mode:3,marginBottom:8,block:!0,center:!0,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),(0,i.jsx)(c.xv,{mode:5,marginBottom:0,color:"secondary",block:!0,center:!0,weight:100,children:(0,i.jsxs)(c.yX,{href:"/login",className:"d-flex f-align-center f-justify-center",children:[(0,i.jsx)("div",{className:"mr-05",children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,i.jsx)(c.JO,{name:"arrow-right-long",mode:"primary",size:15})]})})]})}),(0,i.jsx)(c.xW,{size:"small",children:(0,i.jsxs)(c.rj,{gap:r.width>s.z?24:12,children:[(0,i.jsx)(c.II,{label:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c",value:u.login,onChange:f("login"),error:p.login}),(0,i.jsx)(c.II,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",placeholder:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:u.password,onChange:f("password"),error:p.password}),(0,i.jsx)(c.II,{label:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438e \u043f\u0430\u0440\u043e\u043b\u044f",type:"password",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:u.repeat,onChange:f("repeat"),error:p.repeat}),v(),u.country&&"RU"===u.country.value&&(0,i.jsx)(c.II,{label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",type:"tel",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",value:u.phone,onChange:f("phone"),error:p.phone,before:"+7",maxLength:10,pressEnterFunc:N}),u.country&&"RU"!==u.country.value&&(0,i.jsx)(c.II,{label:"E-mail",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",value:u.email,onChange:f("email"),error:p.email,pressEnterFunc:N}),"done"===b&&(0,i.jsx)(c.Ck,{title:"\u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0432 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438",description:"\u0414\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u043f\u043e\u0442\u0435\u0440\u044f\u0435\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430, \u0432\u044b \u0441 \u043b\u0435\u0433\u043a\u043e\u0441\u0442\u044c\u044e \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0432\u043e\u0435\u0433\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",isAuthed:!0}),("initial"===b||"checking"===b)&&(0,i.jsx)(c.Ck,{title:"\u041f\u043e\u0437\u0430\u0431\u043e\u0442\u044c\u0442\u0435\u0441\u044c \u043e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 gomafia.pro",description:"\u041f\u0440\u0438\u0432\u044f\u0436\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435. \u041f\u0440\u0438 \u043f\u043e\u0442\u0435\u0440\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443 gomafia.pro, \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0441 \u043b\u0435\u0433\u043a\u043e\u0441\u0442\u044c\u044e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u0447\u0435\u0440\u0435\u0437 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",onClickFunc:function(){var r=btoa(JSON.stringify({type:"register_link",hash:e("hash")}));window.open("https://vk.me/public".concat(e("publicId"),"?ref=").concat(r),"_blank"),k("checking")}}),x(),(0,i.jsx)("div",{className:h()["auth__button-block"],children:(0,i.jsx)(c.zx,{mode:"primary",className:h().auth__button,onClick:N,disabled:_,stretched:r.width<=s.z,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),(0,i.jsxs)("div",{className:h()["auth__reg-rule"],children:["\u041d\u0430\u0436\u0438\u043c\u0430\u044f \u043d\u0430\xa0\u043a\u043d\u043e\u043f\u043a\u0443 \xab\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f\xbb, \u0432\u044b \u0441\u043e\u0433\u043b\u0430\u0448\u0430\u0435\u0442\u0435\u0441\u044c \u0441\xa0",(0,i.jsx)(c.yX,{href:"/user-agreement.pdf",target:"_blank",children:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0441\u0430\u0439\u0442\u0430"})," \u0438\xa0\u0434\u0430\u0435\u0442\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u043d\u0430\xa0\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"]})]})})]})}},6054:function(e){e.exports={"auth__button-block":"login_auth__button-block__yGHQg",auth__button:"login_auth__button__jjG6c","auth__reg-rule":"login_auth__reg-rule__3OyAf","auth__g-recaptcha-block":"login_auth__g-recaptcha-block__g8KPF"}}},function(e){e.O(0,[774,888,179],(function(){return r=69805,e(e.s=r);var r}));var r=e.O();_N_E=r}]);